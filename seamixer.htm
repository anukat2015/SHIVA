<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8" />
	<link REL="SHORTCUT ICON" HREF="UVALogo.ico">
	<title>SHIVA Mixer</title>
 	<link rel="stylesheet" type="text/css" href="css/smoothness/jquery-ui-1.8.16.custom.css">
	<script type="text/javascript" src="seamixer.js"></script>
	<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.min.js"></script>
	<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js"></script>
	<style type="text/css">
		body { font-family:Verdana,Geneva,sans-serif; font-size:xx-small; }
	</style>
</head>
<body>
	<iframe id="timelineCon" style="position:absolute;top:20px;left:20px;width:90%;height:300px;border:none"></iframe>
	<iframe id="mapCon" style="position:absolute;top:330px;left:20px;width:90%;height:500px;border:none"></iframe>
	<input type="button" onclick="test()">
<script>

	var events=[{ on:"init",		do:"load",  src:"e=252",  div:"timelineCon", preload:"false" },
		{ on:"init",				do:"load",  src:"M=779",  div:"mapCon" },
		{ on:"init",				do:"data",  src:"www.google.docs.com",  id:"myData" },
		{ on:"init", 				do:"act",   id:"mapCon", type:"ShivaActMap=hide", p1:"1" },
		{ on:"timelineDiv.time",  	do:"query", src:"myData", id:"mySubset", query:"age LT 20" },
		{ on:"timelineDiv.time",  	do:"fill",  src:"mySubset", div:"mapCon" },
		{ on:"mapDiv.move",       	do:"call",  id:"SetMap" }
		];
	
	var mix=new seaMixer();
	mix.Run(events);
	 
	function SetMap(lat, lon, zoom)
	{
//	     	...Do something in JavaScript...
		mix.RunOnDo({ on:"init", do:"act", id:"mapCon", type:"ShivaActMap=show" });     	// Add a new event on the queue      	
	}
	
	
	function test()
	{
		mix.RunOnDo({ on:"init", do:"act", id:"mapCon", type:"ShivaActMap=hide", p1:"1" });     	    	
	}
	
	function trace(str) 
		{ 
			console.log(str) 
		}
		
	
</script>
</body></html>